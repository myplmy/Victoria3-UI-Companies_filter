# common/scripted_guis/company_filter_test_sgui.txt
# 2단계: BuildingType Scope 저장/읽기 테스트

com_test_set_variable = {
    scope = player
    
    effect = {
        set_variable = {
            name = com_test_var
            value = 100
        }
    }
}

com_test_clear_variable = {
    scope = player
    
    effect = {
        if = {
            limit = { has_variable = com_test_var }
            remove_variable = com_test_var
        }
    }
}

# 2단계: BuildingType을 Variable에 저장
com_save_building_type = {
    scope = player
    
    saved_scopes = {
        building_type
    }
    
    effect = {
        # 기존 저장된 BuildingType 제거
        if = {
            limit = { has_variable = com_saved_building }
            remove_variable = com_saved_building
        }
        
        # BuildingType Scope 저장
        set_variable = {
            name = com_saved_building
            value = scope:building_type
        }
    }
}

com_clear_building_type = {
    scope = player
    
    effect = {
        if = {
            limit = { has_variable = com_saved_building }
            remove_variable = com_saved_building
        }
    }
}

# 3단계: ExtensionBuildingType을 Variable에 저장
com_save_extension_building_type = {
    scope = player
    
    saved_scopes = {
        extension_building_type
    }
    
    effect = {
        # 기존 저장된 ExtensionBuildingType 제거
        if = {
            limit = { has_variable = com_saved_extension_building }
            remove_variable = com_saved_extension_building
        }
        
        # ExtensionBuildingType Scope 저장
        set_variable = {
            name = com_saved_extension_building
            value = scope:extension_building_type
        }
    }
}

com_clear_extetion_building_type = {
    scope = player
    
    effect = {
        if = {
            limit = { has_variable = com_saved_extension_building }
            remove_variable = com_saved_extension_building
        }
    }
}

